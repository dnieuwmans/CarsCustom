(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],a[o]&&d.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a={app:0},c=[];function i(e){return s.p+"js/"+({user:"user","explore-cars~home":"explore-cars~home","explore-cars":"explore-cars",home:"home","my-profile":"my-profile",order:"order","registration-complete":"registration-complete"}[e]||e)+"."+{"chunk-0ecf0440":"346a7654","chunk-1a798b2b":"6916ddfc","chunk-248c8d84":"2ada6387","chunk-2d0e9021":"53799c8a","chunk-2d231051":"72a1700a","chunk-4ce4df59":"62c08989","chunk-4e92f0b0":"86ba0677","chunk-525a9648":"bba44bd6","chunk-67e35b32":"397f3fab","chunk-2d0e68b3":"2f8cc186",user:"5ad1708c","chunk-79dd9838":"fac21e51","chunk-e98cc7ec":"eff3d73d","explore-cars~home":"07c1a7f5","explore-cars":"40844f69",home:"4f145e34","my-profile":"30e7ee7b",order:"94c0981d","registration-complete":"277fc0a2"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r={"chunk-525a9648":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise(function(t,r){for(var n="css/"+({user:"user","explore-cars~home":"explore-cars~home","explore-cars":"explore-cars",home:"home","my-profile":"my-profile",order:"order","registration-complete":"registration-complete"}[e]||e)+"."+{"chunk-0ecf0440":"31d6cfe0","chunk-1a798b2b":"31d6cfe0","chunk-248c8d84":"31d6cfe0","chunk-2d0e9021":"31d6cfe0","chunk-2d231051":"31d6cfe0","chunk-4ce4df59":"31d6cfe0","chunk-4e92f0b0":"31d6cfe0","chunk-525a9648":"12b7cd7f","chunk-67e35b32":"31d6cfe0","chunk-2d0e68b3":"31d6cfe0",user:"31d6cfe0","chunk-79dd9838":"31d6cfe0","chunk-e98cc7ec":"31d6cfe0","explore-cars~home":"31d6cfe0","explore-cars":"31d6cfe0",home:"31d6cfe0","my-profile":"31d6cfe0",order:"31d6cfe0","registration-complete":"31d6cfe0"}[e]+".css",o=s.p+n,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var i=a[c],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===n||u===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){i=l[c],u=i.getAttribute("data-href");if(u===n||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.request=n,r(a)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var c=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=c);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e),u=function(t){d.onerror=d.onload=null,clearTimeout(f);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");c.type=n,c.request=o,r[1](c)}a[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"15bc":function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return c});r("6762");var n,o=["Admin","Employee","Customer"];(function(e){e[e["ADMIN"]=1]="ADMIN",e[e["EMPLOYEE"]=2]="EMPLOYEE",e[e["CUSTOMER"]=3]="CUSTOMER"})(n||(n={}));var a=function(e){return o[e-1]},c=function(e){return o.includes(e)}},"20c9":function(e,t,r){},"458f":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("c665"),o=r("aa9a"),a=(r("cadf"),r("551c"),r("097d"),function(){function e(t){Object(n["a"])(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.phone=t.phone,this.email=t.email,this.username=t.username,this.password=t.password,this.confirmPassword=t.confirmPassword,this.role=t.role,this.street=t.street,this.streetNumber=t.streetNumber,this.city=t.city,this.zipCode=t.zipCode,this.disabled=t.disabled}return Object(o["a"])(e,[{key:"address",get:function(){return"".concat(this.street," ").concat(this.streetNumber,", ").concat(this.zipCode," - ").concat(this.city)}},{key:"fullName",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}}],[{key:"fromJson",value:function(t){return new e(t)}},{key:"init",value:function(){return new e({id:-1,firstName:"",lastName:"",phone:"",email:"",username:"",password:"",confirmPassword:"",role:1,street:"",streetNumber:"",city:"",zipCode:"",disabled:!1})}}]),e}())},7031:function(e,t,r){"use strict";r("ac6a"),r("7f7f");var n,o=r("c665"),a=r("aa9a"),c=(r("cadf"),r("551c"),r("097d"),r("c9f7")),i=r("2ef0"),s=function(){function e(t){Object(o["a"])(this,e),this.id=t.id,this.value=t.value}return Object(a["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),e}(),u=r("d7e7"),l=r("2b0e");r.d(t,"b",function(){return n}),r.d(t,"a",function(){return f}),function(e){e[e["COLOR"]=1]="COLOR",e[e["ACCESSORY"]=2]="ACCESSORY",e[e["USER_INFO"]=3]="USER_INFO",e[e["SUMMARY"]=4]="SUMMARY",e[e["PAYMENT"]=5]="PAYMENT"}(n||(n={}));var d=[{id:n.COLOR,name:"Select Color",completed:0},{id:n.ACCESSORY,name:"Select Accessory",completed:0},{id:n.USER_INFO,name:"Buyer Information",completed:0},{id:n.SUMMARY,name:"Review Order",completed:0},{id:n.PAYMENT,name:"Pay Order",completed:0}],f=function(){function e(t){Object(o["a"])(this,e),this.id=t.id,this.selectedCar=t.selectedCar,this.selectedColor=t.selectedColor,this.selectedAccessories=t.selectedAccessories?t.selectedAccessories.map(u["a"].fromJson):[],this.orderUser=new c["a"](t.orderUser||c["a"].init()),this.activeStep=t.activeStep||n.COLOR,this.steps=t.steps||Object(i["cloneDeep"])(d),this.token=t.token||"",this.createdAt=new Date(t.createdAt)||null,null==t.status?this.status=new s({id:0,value:"New"}):this.status=s.fromJson(t.status)}return Object(a["a"])(e,[{key:"activeStepName",get:function(){return this.steps[this.activeStep-1].name}},{key:"totalPrice",get:function(){var e=this.selectedCar.price;return this.selectedAccessories.forEach(function(t){e+=t.cost}),"€".concat(e.toLocaleString("nl-NL"),",-")}},{key:"selectedColorObject",get:function(){var e=this.selectedCar.colors[this.selectedColor].name;return e.charAt(0).toUpperCase()+e.slice(1)}}],[{key:"fromJson",value:function(t){return new e(t)}}]),Object(a["a"])(e,[{key:"toJson",value:function(){var e=Object(i["cloneDeep"])(this),t=e.selectedCar.colors[e.selectedColor];return{car:e.selectedCar,user:e.orderUser,selectedColor:t,selectedAccessories:e.selectedAccessories,username:null!=l["default"].prototype.$auth.user?l["default"].prototype.$auth.user.username:null}}}]),e}()},8279:function(e,t,r){"use strict";r("7f7f"),r("a481");var n=r("c665"),o=r("aa9a"),a=function(){function e(t){Object(n["a"])(this,e),this.id=t.id,this.name=t.name,this.hex=t.hex}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),e}(),c=r("d7e7");r.d(t,"a",function(){return i});var i=function(){function e(t){var r=this;Object(n["a"])(this,e),this.id=t.id,this.brand=t.brand,this.type=t.type,this.description=t.description,this.price=t.price,this.colors=t.colors.map(a.fromJson),this.imageTemplate=t.imageTemplate,this.images=this.colors.map(function(e){return r.imageTemplate.replace("%color%",e.name)}),null==t.accessories?this.accessories=[]:this.accessories=t.accessories.map(c["a"].fromJson)}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return t.imageTemplate=t.image_template||t.imageTemplate,new e(t)}}]),Object(o["a"])(e,[{key:"formattedPrice",get:function(){return"€".concat(this.price.toLocaleString("nl-NL"),",-")}},{key:"fullDescription",get:function(){return"".concat(this.brand,", ").concat(this.type)}}]),e}()},add3:function(e,t,r){"use strict";var n=r("c665"),o=r("bc3a"),a=r.n(o),c=r("aa9a"),i=function(){function e(t,r){Object(n["a"])(this,e),this.route="".concat(t,"/").concat(r)}return Object(c["a"])(e,[{key:"findAll",value:function(){return a.a.get("".concat(this.route,"/"))}},{key:"findOneById",value:function(e){return a.a.get("".concat(this.route,"/").concat(e))}},{key:"countAll",value:function(){return a.a.get("".concat(this.route,"/total"))}}]),e}(),s="qJqsHNbBt05P5aa8LjzW282V7qCo2MEBfqaDeXh2",u=s,l="https://api.postcodeapi.nu/v2/addresses/",d={data:{_embedded:{addresses:[{addition:null,city:{id:"2662",label:"'s-Gravenzande"},geo:{},id:"1783200000042595",letter:null,municipality:{id:"1783",label:"Westland"},nen5825:{postcode:"2691 ZZ",street:"GRAVIN ALEIDISSTRAAT"},number:26,postcode:"2691ZZ",province:{id:"28",label:"Zuid-Holland"},purpose:"woonfunctie",street:"Gravin Aleidisstraat",surface:103,type:"Verblijfsobject",year:1969}]}}},f=function(){function e(){Object(n["a"])(this,e)}return Object(c["a"])(e,[{key:"getAddress",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?Promise.resolve(d):a.a.get(l,{params:{postcode:e,number:t},headers:{"X-Api-Key":u}})}}]),e}(),h=function(){function e(t,r){Object(n["a"])(this,e),this.route="".concat(t,"/").concat(r)}return Object(c["a"])(e,[{key:"register",value:function(e){return a.a.post("".concat(this.route,"/register"),e)}},{key:"login",value:function(e,t){return a.a.post("".concat(this.route,"/login"),{username:e,password:t})}}]),e}(),p=(r("cadf"),r("551c"),r("097d"),function(){function e(t,r){Object(n["a"])(this,e),this.route="".concat(t,"/").concat(r)}return Object(c["a"])(e,[{key:"addOrder",value:function(e){return a.a.post("".concat(this.route,"/"),e)}},{key:"getOrders",value:function(){return a.a.get("".concat(this.route,"/"))}},{key:"getOrderById",value:function(e){return a.a.get("".concat(this.route,"/").concat(e))}},{key:"getMyOrders",value:function(){return a.a.get("".concat(this.route,"/my-orders"))}}]),e}()),m=function(){function e(t,r){Object(n["a"])(this,e),this.route="".concat(t,"/").concat(r)}return Object(c["a"])(e,[{key:"getUsers",value:function(){return a.a.get("".concat(this.route,"/"))}},{key:"update",value:function(e){return a.a.post("".concat(this.route,"/update"),{firstName:e.firstName,lastName:e.lastName,email:e.email,street:e.street,streetNumber:e.streetNumber,city:e.city,zipCode:e.zipCode,phone:e.phone})}}]),e}();r.d(t,"a",function(){return v});var b="api",v=function e(){Object(n["a"])(this,e)};v.car=new i(b,"cars"),v.address=new f,v.auth=new h(b,"auth"),v.order=new p(b,"orders"),v.user=new m(b,"users"),v.setDefaultHeader=function(e,t){a.a.defaults.headers.common[e]=t}},c9f7:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("c665"),o=r("aa9a"),a=function(){function e(t){Object(n["a"])(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.street=t.street,this.streetNumber=t.streetNumber,this.city=t.city,this.zipCode=t.zipCode,this.phone=t.phone,this.email=t.email}return Object(o["a"])(e,[{key:"fullName",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"address",get:function(){return"".concat(this.street," ").concat(this.streetNumber,", ").concat(this.zipCode," - ").concat(this.city)}}],[{key:"fromJson",value:function(t){return new e(t)}},{key:"init",value:function(){return new e({id:-1,firstName:"",lastName:"",street:"",streetNumber:"",city:"",zipCode:"",phone:"",email:""})}}]),e}()},cd49:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],c=r("c665"),i=r("dc0a"),s=r("aa9a"),u=r("d328"),l=r("11d9"),d=r("9ab4"),f=r("60a3"),h=r("7031"),p=r("8279"),m=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(s["a"])(t,[{key:"beforeCreate",value:function(){var e=JSON.parse(localStorage.getItem("order"));null!=e&&(e.selectedCar=p["a"].fromJson(e.selectedCar),this.$store.commit("Order/setOrder",new h["a"](e)))}},{key:"mounted",value:function(){}}]),Object(i["a"])(t,e),t}(f["c"]);m=d["a"]([Object(f["a"])({name:"App"})],m);var b=m,v=b,y=r("2877"),g=Object(y["a"])(v,o,a,!1,null,null,null);g.options.__file="App.vue";var k=g.exports,O=r("8c4f"),N=r("add3"),j=r("15bc");n["default"].use(O["a"]);var A=new O["a"]({routes:[{path:"/",name:"home",component:function(){return Promise.all([r.e("explore-cars~home"),r.e("home")]).then(r.bind(null,"1c62"))},meta:{title:"Homepage"}},{path:"/explore-cars",name:"explore-cars",component:function(){return Promise.all([r.e("explore-cars~home"),r.e("explore-cars")]).then(r.bind(null,"0d09"))},meta:{title:"Explore Cars"}},{path:"/my-profile",component:function(){return r.e("my-profile").then(r.bind(null,"8f06"))},meta:{title:"Profile"},children:[{path:"",name:"profile:orders",component:function(){return r.e("chunk-4ce4df59").then(r.bind(null,"0a5a"))},meta:{title:"My Orders"}},{path:"order/:id",name:"profile:single-order",component:function(){return r.e("chunk-248c8d84").then(r.bind(null,"f6b3"))},meta:{title:"My Order"}},{path:"user",name:"profile:edit-user",component:function(){return r.e("chunk-e98cc7ec").then(r.bind(null,"9163"))},meta:{title:"My Information"}}]},{path:"/register-user",name:"register-user",component:function(){return Promise.all([r.e("chunk-67e35b32"),r.e("user")]).then(r.bind(null,"6d51"))},meta:{title:"Register"}},{path:"/order",name:"order",component:function(){return r.e("order").then(r.bind(null,"e21c"))},meta:{title:"Order"}},{path:"/registration-complete",name:"registration-complete",component:function(){return r.e("registration-complete").then(r.bind(null,"508d"))}},{path:"/dashboard",component:function(){return r.e("chunk-525a9648").then(r.bind(null,"e124"))},meta:{requiresAuth:!0,title:"Dashboard"},children:[{path:"",component:function(){return r.e("chunk-4e92f0b0").then(r.bind(null,"53c6"))},children:[{path:"",name:"dashboard:orders:overview",component:function(){return r.e("chunk-1a798b2b").then(r.bind(null,"38e2"))},meta:{requiredRoles:[j["c"].ADMIN,j["c"].EMPLOYEE]}}]},{path:"cars",component:function(){return r.e("chunk-0ecf0440").then(r.bind(null,"8a5e"))},children:[{path:"",name:"dashboard:cars:overview",component:function(){return r.e("chunk-2d0e9021").then(r.bind(null,"8c66"))},meta:{requiredRoles:[j["c"].ADMIN,j["c"].EMPLOYEE]}}]},{path:"users",component:function(){return r.e("chunk-79dd9838").then(r.bind(null,"7e07"))},children:[{path:"",name:"dashboard:users:overview",component:function(){return r.e("chunk-2d231051").then(r.bind(null,"ef82"))},meta:{requiredRoles:[j["c"].ADMIN,j["c"].EMPLOYEE]}},{path:"new",name:"dashboard:users:new",component:function(){return Promise.all([r.e("chunk-67e35b32"),r.e("chunk-2d0e68b3")]).then(r.bind(null,"98ca"))},meta:{requiredRoles:[j["c"].ADMIN,j["c"].EMPLOYEE]}}]}]}]});A.beforeEach(function(e,t,r){var n=localStorage.getItem("token");if(null==n||A.app.$auth.isLoaded())if(e.matched.some(function(e){return e.meta.requiresAuth})){if(A.app.$auth.isLoaded()){var o=!0;if(null!=e.meta.requiredRoles&&(o=A.app.$auth.hasRole(e.meta.requiredRoles)),o)return void r()}r({name:"home"})}else r();else N["a"].setDefaultHeader("Authorization","Bearer "+n),A.app.$auth.refresh().then(function(){r()})}),A.afterEach(function(e){document.title="".concat(e.matched.slice(0).reverse().filter(function(e){return null!=e.meta.title}).map(function(e){return e.meta.title}).join(" - ")," | Cars Customs")});var w=A,C=r("2f62"),E={order:null},S={getOrder:function(e){return e.order}},M={setSelectedColor:function(e,t){e.order.selectedColor=t,L(e.order)},addAccessory:function(e,t){e.order.selectedAccessories.push(t),L(e.order)},removeAccessory:function(e,t){var r=e.order.selectedAccessories.filter(function(e){return e.id!==t.id});e.order.selectedAccessories=r,L(e.order)},setOrder:function(e,t){e.order=t,L(e.order)},nextStep:function(e){e.order.steps[e.order.activeStep-1].completed=100,e.order.activeStep!==h["b"].PAYMENT&&(e.order.activeStep+=1),L(e.order)},previousStep:function(e){e.order.steps[e.order.activeStep-2].completed=0,e.order.activeStep!==h["b"].COLOR&&(e.order.activeStep-=1),L(e.order)},updateOrderUser:function(e,t){e.order.orderUser=t,L(e.order)},removeOrder:function(e){e.order=null,localStorage.removeItem("order")}},P={namespaced:!0,state:E,getters:S,mutations:M},L=function(e){localStorage.setItem("order",JSON.stringify(e))};n["default"].use(C["a"]);var x=new C["a"].Store({strict:!1,modules:{Order:P}}),R=(r("20c9"),r("6762"),r("2fdb"),r("c5f6"),r("fca0"),r("458f")),_=r("bc3a"),I=r.n(_),T=function(){function e(){Object(c["a"])(this,e),this._user=null}return Object(s["a"])(e,[{key:"isAuthenticated",value:function(){return this.isLoaded()&&null!==this.user&&Number.isFinite(this.user.id)}},{key:"isAdmin",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===j["c"].ADMIN)}},{key:"isEmployee",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===j["c"].EMPLOYEE)}},{key:"isCustomer",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===j["c"].CUSTOMER)}},{key:"hasRole",value:function(e){return null!=this._user&&e.includes(this._user.role)}},{key:"isLoaded",value:function(){return null!==this._user}},{key:"login",value:function(e,t){var r=this;return N["a"].auth.login(e,t).then(function(e){localStorage.setItem("token",e.data.token),N["a"].setDefaultHeader("Authorization","Bearer "+e.data.token),r.refresh()})}},{key:"logout",value:function(){this._user=null,localStorage.removeItem("token")}},{key:"refresh",value:function(){var e=this;return I.a.get("api/auth/logged-in").then(function(t){return e._user=R["a"].fromJson(t.data),e._user}).catch(function(t){401===t.response.status&&e.logout()})}},{key:"user",get:function(){return this.isLoaded()?this._user:null}}]),e}(),J=new T,D=new n["default"]({data:{auth:J}});T.install=function(e){Object.defineProperty(e.prototype,"$auth",{value:D.auth})};var Y=T;n["default"].config.productionTip=!1,n["default"].use(Y),new n["default"]({router:w,store:x,render:function(e){return e(k)}}).$mount("#app")},d7e7:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("c665"),o=r("aa9a"),a=function(){function e(t){Object(n["a"])(this,e),this.id=t.id,this.description=t.description,this.cost=t.cost}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),Object(o["a"])(e,[{key:"formattedCost",get:function(){return"€".concat(this.cost.toLocaleString("nl-NL"),",-")}}]),e}()}});
//# sourceMappingURL=app.02570098.js.map
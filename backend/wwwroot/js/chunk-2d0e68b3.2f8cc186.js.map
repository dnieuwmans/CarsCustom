{"version":3,"sources":["webpack:///./src/views/Dashboard/views/Users/views/UsersNew.vue?2479","webpack:///./src/views/Dashboard/views/Users/views/UsersNew.vue?ba26","webpack:///./src/views/Dashboard/views/Users/views/UsersNew.vue?adc3","webpack:///./src/views/Dashboard/views/Users/views/UsersNew.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","errorMessage","_e","fieldsValidation","attrs","fields-validation","user","on","click","$event","register","staticRenderFns","UsersNewvue_type_script_lang_ts_RegisterUser","_Vue","RegisterUser","_this","Object","classCallCheck","continueOrderModal","fieldsEnum","UserFieldsEnum","User","init","Validation","showErrorMessage","createClass","key","value","lodash","_this2","recheckFields","hasErrors","Api","auth","then","response","emptyFields","catch","error","data","string","USERNAME","userName","PASSWORD","CONFIRMPASSWORD","role","ROLE","confirmPassword","FIRSTNAME","LASTNAME","ZIPCODE","STREETNUMBER","phone","PHONE","email","EMAIL","inherits","vue_property_decorator","tslib_es6","name","components","MainNav","UserForm","UsersNewvue_type_script_lang_ts_","views_UsersNewvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0e68b3.2f8cc186.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new-user\"},[(_vm.showErrorMessage)?_c('div',{staticClass:\"alert alert-danger mb-4\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),(_vm.fieldsValidation != null)?_c('user-form',{attrs:{\"fields-validation\":_vm.fieldsValidation,\"user\":_vm.user}}):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){_vm.register()}}},[_vm._v(\"Add user\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator';\nimport MainNav from '@/components/MainNav.vue';\nimport User from \"@/models/User\";\nimport { cloneDeep } from 'lodash';\nimport Validation from \"@/utils/Validation\";\nimport Api from \"@/api/Api\";\nimport UserForm from \"@/components/UserForm.vue\";\nimport userFieldsEnum from \"@/utils/UserFieldsEnum\";\n\n@Component({\n    name: 'RegisterUser',\n    components: {\n        MainNav,\n        UserForm,\n    }\n})\nexport default class RegisterUser extends Vue {\n    public continueOrderModal: boolean = false;\n    public fieldsEnum = userFieldsEnum;\n    public user = User.init(); // Because we are lazy ;)\n    public fieldsValidation: Validation = new Validation({});\n    public errorMessage: string = '';\n    public showErrorMessage: boolean = false;\n\n    public mounted() {\n        this.fieldsValidation = new Validation(cloneDeep(this.user));\n    }\n\n    public register() {\n        // Recheck the fields\n        this.recheckFields(this.user);\n        \n        // Don't do anything whenever we got errors...\n        if(this.fieldsValidation.hasErrors()) {\n            return;\n        }\n        \n        Api.auth.register(this.user)\n            .then((response) => {\n                // TODO SJOERD, tell the user the new user has been added to the database.\n\n                this.emptyFields();\n                return;\n            })\n            .catch((error) => {\n                this.showErrorMessage = true;\n                this.errorMessage = error.response.data;\n            })\n    }\n\n    private recheckFields(user: User) {\n        this.fieldsValidation.string(this.fieldsEnum.USERNAME, this.user[this.fieldsEnum.USERNAME], 2, 100);\n        this.fieldsValidation.userName(this.fieldsEnum.USERNAME, this.user[this.fieldsEnum.USERNAME]);\n        this.fieldsValidation.string(this.fieldsEnum.PASSWORD, this.user[this.fieldsEnum.PASSWORD], 8, 100);\n        this.fieldsValidation.string(this.fieldsEnum.CONFIRMPASSWORD, this.user[this.fieldsEnum.CONFIRMPASSWORD], 8, 100);\n\n        // @ts-ignore\n        // TODO: somehow the role doesn't work properly with ts\n        this.fieldsValidation.role(this.fieldsEnum.ROLE, this.user[this.fieldsEnum.ROLE]);\n        this.fieldsValidation.confirmPassword(this.fieldsEnum.CONFIRMPASSWORD, this.user[this.fieldsEnum.PASSWORD], this.user[this.fieldsEnum.CONFIRMPASSWORD]);\n        this.fieldsValidation.string(this.fieldsEnum.FIRSTNAME, this.user[this.fieldsEnum.FIRSTNAME], 2, 100);\n        this.fieldsValidation.string(this.fieldsEnum.LASTNAME, this.user[this.fieldsEnum.LASTNAME], 2, 100);\n        this.fieldsValidation.string(this.fieldsEnum.ZIPCODE, this.user[this.fieldsEnum.ZIPCODE], 6, 6);\n        this.fieldsValidation.string(this.fieldsEnum.STREETNUMBER, this.user[this.fieldsEnum.STREETNUMBER], 1, 6);\n        this.fieldsValidation.phone(this.fieldsEnum.PHONE, this.user[this.fieldsEnum.PHONE]);\n        this.fieldsValidation.email(this.fieldsEnum.EMAIL, this.user[this.fieldsEnum.EMAIL]);\n    }\n\n    private emptyFields() {\n        this.user[this.fieldsEnum.USERNAME] = '';\n        this.user[this.fieldsEnum.USERNAME] = '';\n        this.user[this.fieldsEnum.PASSWORD] = '';\n        this.user[this.fieldsEnum.CONFIRMPASSWORD] = '';\n        this.user[this.fieldsEnum.ROLE] = 0;\n        this.user[this.fieldsEnum.PASSWORD] = '';\n        this.user[this.fieldsEnum.FIRSTNAME] = '';\n        this.user[this.fieldsEnum.LASTNAME] = '';\n        this.user[this.fieldsEnum.ZIPCODE] = '';\n        this.user[this.fieldsEnum.STREETNUMBER] = '';\n        this.user[this.fieldsEnum.PHONE] = '';\n        this.user[this.fieldsEnum.EMAIL] = '';\n    }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersNew.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersNew.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UsersNew.vue?vue&type=template&id=168bde82&\"\nimport script from \"./UsersNew.vue?vue&type=script&lang=ts&\"\nexport * from \"./UsersNew.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"UsersNew.vue\"\nexport default component.exports"],"sourceRoot":""}
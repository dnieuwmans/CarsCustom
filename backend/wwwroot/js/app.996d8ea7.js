(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],d=0,l=[];d<i.length;d++)o=i[d],c[o]&&l.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},c={app:0},a=[];function i(e){return s.p+"js/"+({user:"user","explore-cars":"explore-cars",home:"home","my-profile":"my-profile",order:"order","registration-complete":"registration-complete"}[e]||e)+"."+{"chunk-0ecf0440":"b1f4ef00","chunk-2d0a440d":"264878d6","chunk-2d0bae88":"3e4e0775","chunk-2d0e5af8":"6a4efa0b","chunk-2d0e9021":"53799c8a","chunk-2d2089cb":"c5204933","chunk-2d231051":"243c2a4e","chunk-4e92f0b0":"a0282abf","chunk-525a9648":"c9058e5d","chunk-67e35b32":"3361f024","chunk-2d0e68b3":"2f8cc186",user:"6dfdf348","chunk-79dd9838":"fac21e51","chunk-bc966a58":"20f796b3","explore-cars":"92c4f325",home:"82877200","my-profile":"3746cd96",order:"56ec001a","registration-complete":"8b3bd7df"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-525a9648":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({user:"user","explore-cars":"explore-cars",home:"home","my-profile":"my-profile",order:"order","registration-complete":"registration-complete"}[e]||e)+"."+{"chunk-0ecf0440":"31d6cfe0","chunk-2d0a440d":"31d6cfe0","chunk-2d0bae88":"31d6cfe0","chunk-2d0e5af8":"31d6cfe0","chunk-2d0e9021":"31d6cfe0","chunk-2d2089cb":"31d6cfe0","chunk-2d231051":"31d6cfe0","chunk-4e92f0b0":"31d6cfe0","chunk-525a9648":"12b7cd7f","chunk-67e35b32":"31d6cfe0","chunk-2d0e68b3":"31d6cfe0",user:"31d6cfe0","chunk-79dd9838":"31d6cfe0","chunk-bc966a58":"31d6cfe0","explore-cars":"31d6cfe0",home:"31d6cfe0","my-profile":"31d6cfe0",order:"31d6cfe0","registration-complete":"31d6cfe0"}[e]+".css",o=s.p+r,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var i=c[a],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===r||u===o))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){i=d[a],u=i.getAttribute("data-href");if(u===r||u===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.request=r,n(c)},l.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){o[e]=0}));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,n){r=c[e]=[t,n]});t.push(r[2]=a);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e),u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}c[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"15bc":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return a});n("6762");var r,o=["Admin","Employee","Customer"];(function(e){e[e["ADMIN"]=1]="ADMIN",e[e["EMPLOYEE"]=2]="EMPLOYEE",e[e["CUSTOMER"]=3]="CUSTOMER"})(r||(r={}));var c=function(e){return o[e-1]},a=function(e){return o.includes(e)}},"20c9":function(e,t,n){},"458f":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("c665"),o=n("aa9a"),c=(n("cadf"),n("551c"),n("097d"),function(){function e(t){Object(r["a"])(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.phone=t.phone,this.email=t.email,this.username=t.username,this.password=t.password,this.confirmPassword=t.confirmPassword,this.role=t.role,this.street=t.street,this.streetNumber=t.streetNumber,this.city=t.city,this.zipCode=t.zipCode,this.disabled=t.disabled}return Object(o["a"])(e,[{key:"address",get:function(){return"".concat(this.street," ").concat(this.streetNumber,", ").concat(this.zipCode," - ").concat(this.city)}},{key:"fullName",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}}],[{key:"fromJson",value:function(t){return new e(t)}},{key:"init",value:function(){return new e({id:-1,firstName:"",lastName:"",phone:"",email:"",username:"",password:"",confirmPassword:"",role:1,street:"",streetNumber:"",city:"",zipCode:"",disabled:!1})}}]),e}())},7031:function(e,t,n){"use strict";n("ac6a"),n("7f7f");var r,o=n("c665"),c=n("aa9a"),a=(n("cadf"),n("551c"),n("097d"),n("c9f7")),i=n("2ef0"),s=function(){function e(t){Object(o["a"])(this,e),this.id=t.id,this.value=t.value}return Object(c["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),e}(),u=n("d7e7"),d=n("2b0e");n.d(t,"b",function(){return r}),n.d(t,"a",function(){return f}),function(e){e[e["COLOR"]=1]="COLOR",e[e["ACCESSORY"]=2]="ACCESSORY",e[e["USER_INFO"]=3]="USER_INFO",e[e["SUMMARY"]=4]="SUMMARY",e[e["PAYMENT"]=5]="PAYMENT"}(r||(r={}));var l=[{id:r.COLOR,name:"Select Color",completed:0},{id:r.ACCESSORY,name:"Select Accessory",completed:0},{id:r.USER_INFO,name:"Buyer Information",completed:0},{id:r.SUMMARY,name:"Review Order",completed:0},{id:r.PAYMENT,name:"Pay Order",completed:0}],f=function(){function e(t){Object(o["a"])(this,e),this.id=t.id,this.selectedCar=t.selectedCar,this.selectedColor=t.selectedColor,this.selectedAccessories=t.selectedAccessories?t.selectedAccessories.map(u["a"].fromJson):[],this.orderUser=new a["a"](t.orderUser||a["a"].init()),this.activeStep=t.activeStep||r.COLOR,this.steps=t.steps||Object(i["cloneDeep"])(l),this.token=t.token||"",null==t.status?this.status=new s({id:0,value:"New"}):this.status=s.fromJson(t.status)}return Object(c["a"])(e,[{key:"activeStepName",get:function(){return this.steps[this.activeStep-1].name}},{key:"totalPrice",get:function(){var e=this.selectedCar.price;return this.selectedAccessories.forEach(function(t){e+=t.cost}),"€".concat(e.toLocaleString("nl-NL"),",-")}},{key:"selectedColorObject",get:function(){var e=this.selectedCar.colors[this.selectedColor].name;return e.charAt(0).toUpperCase()+e.slice(1)}}],[{key:"fromJson",value:function(t){return new e(t)}}]),Object(c["a"])(e,[{key:"toJson",value:function(){var e=Object(i["cloneDeep"])(this),t=e.selectedCar.colors[e.selectedColor];return{car:e.selectedCar,user:e.orderUser,selectedColor:t,selectedAccessories:e.selectedAccessories,username:null!=d["default"].prototype.$auth.user?d["default"].prototype.$auth.user.username:null}}}]),e}()},8279:function(e,t,n){"use strict";n("7f7f"),n("a481");var r=n("c665"),o=n("aa9a"),c=function(){function e(t){Object(r["a"])(this,e),this.id=t.id,this.name=t.name,this.hex=t.hex}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),e}(),a=n("d7e7");n.d(t,"a",function(){return i});var i=function(){function e(t){var n=this;Object(r["a"])(this,e),this.id=t.id,this.brand=t.brand,this.type=t.type,this.description=t.description,this.price=t.price,this.colors=t.colors.map(c.fromJson),this.imageTemplate=t.imageTemplate,this.images=this.colors.map(function(e){return n.imageTemplate.replace("%color%",e.name)}),null==t.accessories?this.accessories=[]:this.accessories=t.accessories.map(a["a"].fromJson)}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return t.imageTemplate=t.image_template||t.imageTemplate,new e(t)}}]),Object(o["a"])(e,[{key:"formattedPrice",get:function(){return"€".concat(this.price.toLocaleString("nl-NL"),",-")}},{key:"fullDescription",get:function(){return"".concat(this.brand,", ").concat(this.type)}}]),e}()},add3:function(e,t,n){"use strict";var r=n("c665"),o=(n("cadf"),n("551c"),n("097d"),n("bc3a")),c=n.n(o),a=n("aa9a"),i=function(){function e(t,n){Object(r["a"])(this,e),this.route="".concat(t,"/").concat(n)}return Object(a["a"])(e,[{key:"findAll",value:function(){return c.a.get("".concat(this.route,"/"))}},{key:"findOneById",value:function(e){return c.a.get("".concat(this.route,"/").concat(e))}},{key:"countAll",value:function(){return c.a.get("".concat(this.route,"/total"))}}]),e}(),s="qJqsHNbBt05P5aa8LjzW282V7qCo2MEBfqaDeXh2",u=s,d="https://api.postcodeapi.nu/v2/addresses/",l={data:{_embedded:{addresses:[{addition:null,city:{id:"2662",label:"'s-Gravenzande"},geo:{},id:"1783200000042595",letter:null,municipality:{id:"1783",label:"Westland"},nen5825:{postcode:"2691 ZZ",street:"GRAVIN ALEIDISSTRAAT"},number:26,postcode:"2691ZZ",province:{id:"28",label:"Zuid-Holland"},purpose:"woonfunctie",street:"Gravin Aleidisstraat",surface:103,type:"Verblijfsobject",year:1969}]}}},f=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"getAddress",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?Promise.resolve(l):c.a.get(d,{params:{postcode:e,number:t},headers:{"X-Api-Key":u}})}}]),e}(),h=function(){function e(t,n){Object(r["a"])(this,e),this.route="".concat(t,"/").concat(n)}return Object(a["a"])(e,[{key:"register",value:function(e){return c.a.post("".concat(this.route,"/register"),e)}},{key:"login",value:function(e,t){return c.a.post("".concat(this.route,"/login"),{username:e,password:t})}}]),e}(),p=function(){function e(t,n){Object(r["a"])(this,e),this.route="".concat(t,"/").concat(n)}return Object(a["a"])(e,[{key:"addOrder",value:function(e){return c.a.post("".concat(this.route,"/"),e)}},{key:"getOrders",value:function(){return c.a.get("".concat(this.route,"/"))}},{key:"getOrderByToken",value:function(e){return c.a.get("".concat(this.route,"/").concat(e))}},{key:"getMyOrders",value:function(){return c.a.get("".concat(this.route,"/my-orders"))}}]),e}(),m=function(){function e(t,n){Object(r["a"])(this,e),this.route="".concat(t,"/").concat(n)}return Object(a["a"])(e,[{key:"getUsers",value:function(){return c.a.get("".concat(this.route,"/"))}}]),e}();n.d(t,"a",function(){return v});var b="api",v=function e(){Object(r["a"])(this,e)};v.car=new i(b,"cars"),v.address=new f,v.auth=new h(b,"auth"),v.order=new p(b,"orders"),v.user=new m(b,"users"),v.setDefaultHeader=function(e,t){c.a.defaults.headers.common[e]=t}},c9f7:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("c665"),o=n("aa9a"),c=function(){function e(t){Object(r["a"])(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.street=t.street,this.streetNumber=t.streetNumber,this.city=t.city,this.zipCode=t.zipCode,this.phone=t.phone,this.email=t.email}return Object(o["a"])(e,[{key:"fullName",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"address",get:function(){return"".concat(this.street," ").concat(this.streetNumber,", ").concat(this.zipCode," - ").concat(this.city)}}],[{key:"fromJson",value:function(t){return new e(t)}},{key:"init",value:function(){return new e({id:-1,firstName:"",lastName:"",street:"",streetNumber:"",city:"",zipCode:"",phone:"",email:""})}}]),e}()},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],a=n("c665"),i=n("dc0a"),s=n("aa9a"),u=n("d328"),d=n("11d9"),l=n("9ab4"),f=n("60a3"),h=n("7031"),p=n("8279"),m=function(e){function t(){return Object(a["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(s["a"])(t,[{key:"beforeCreate",value:function(){var e=JSON.parse(localStorage.getItem("order"));null!=e&&(e.selectedCar=p["a"].fromJson(e.selectedCar),this.$store.commit("Order/setOrder",new h["a"](e)))}},{key:"mounted",value:function(){}}]),Object(i["a"])(t,e),t}(f["c"]);m=l["a"]([Object(f["a"])({name:"App"})],m);var b=m,v=b,y=n("2877"),g=Object(y["a"])(v,o,c,!1,null,null,null);g.options.__file="App.vue";var k=g.exports,O=n("8c4f"),E=n("add3"),N=n("15bc");r["default"].use(O["a"]);var A=new O["a"]({routes:[{path:"/",name:"home",component:function(){return n.e("home").then(n.bind(null,"1c62"))}},{path:"/explore-cars",name:"explore-cars",component:function(){return n.e("explore-cars").then(n.bind(null,"0d09"))}},{path:"/my-profile",name:"profile",component:function(){return n.e("my-profile").then(n.bind(null,"8f06"))}},{path:"/register-user",name:"register-user",component:function(){return Promise.all([n.e("chunk-67e35b32"),n.e("user")]).then(n.bind(null,"6d51"))}},{path:"/order",name:"order",component:function(){return n.e("order").then(n.bind(null,"e21c"))}},{path:"/order-complete/:token",name:"order-complete",component:function(){return n.e("chunk-bc966a58").then(n.bind(null,"0bf0"))}},{path:"/registration-complete",name:"registration-complete",component:function(){return n.e("registration-complete").then(n.bind(null,"508d"))}},{path:"/dashboard",component:function(){return n.e("chunk-525a9648").then(n.bind(null,"e124"))},meta:{requiresAuth:!0},children:[{path:"",component:function(){return n.e("chunk-4e92f0b0").then(n.bind(null,"53c6"))},children:[{path:"",name:"dashboard:orders:overview",component:function(){return n.e("chunk-2d0bae88").then(n.bind(null,"38e2"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}},{path:"statistics",name:"dashboard:orders:statistics",component:function(){return n.e("chunk-2d0e5af8").then(n.bind(null,"9616"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}}]},{path:"cars",component:function(){return n.e("chunk-0ecf0440").then(n.bind(null,"8a5e"))},children:[{path:"",name:"dashboard:cars:overview",component:function(){return n.e("chunk-2d0e9021").then(n.bind(null,"8c66"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}},{path:"new",name:"dashboard:cars:new",component:function(){return n.e("chunk-2d2089cb").then(n.bind(null,"a611"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}},{path:"statistics",name:"dashboard:cars:statistics",component:function(){return n.e("chunk-2d0a440d").then(n.bind(null,"063d"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}}]},{path:"users",component:function(){return n.e("chunk-79dd9838").then(n.bind(null,"7e07"))},children:[{path:"",name:"dashboard:users:overview",component:function(){return n.e("chunk-2d231051").then(n.bind(null,"ef82"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}},{path:"new",name:"dashboard:users:new",component:function(){return Promise.all([n.e("chunk-67e35b32"),n.e("chunk-2d0e68b3")]).then(n.bind(null,"98ca"))},meta:{requiredRoles:[N["c"].ADMIN,N["c"].EMPLOYEE]}}]}]}]});A.beforeEach(function(e,t,n){var r=localStorage.getItem("token");if(null==r||A.app.$auth.isLoaded())if(e.matched.some(function(e){return e.meta.requiresAuth})){if(A.app.$auth.isLoaded()){var o=!0;if(null!=e.meta.requiredRoles&&(o=A.app.$auth.hasRole(e.meta.requiredRoles)),o)return void n()}n({name:"home"})}else n();else E["a"].setDefaultHeader("Authorization","Bearer "+r),A.app.$auth.refresh().then(function(){n()})});var j=A,w=n("2f62"),S={order:null},C={getOrder:function(e){return e.order}},M={setSelectedColor:function(e,t){e.order.selectedColor=t,L(e.order)},addAccessory:function(e,t){e.order.selectedAccessories.push(t),L(e.order)},removeAccessory:function(e,t){var n=e.order.selectedAccessories.filter(function(e){return e.id!==t.id});e.order.selectedAccessories=n,L(e.order)},setOrder:function(e,t){e.order=t,L(e.order)},nextStep:function(e){e.order.steps[e.order.activeStep-1].completed=100,e.order.activeStep!==h["b"].PAYMENT&&(e.order.activeStep+=1),L(e.order)},previousStep:function(e){e.order.steps[e.order.activeStep-2].completed=0,e.order.activeStep!==h["b"].COLOR&&(e.order.activeStep-=1),L(e.order)},updateOrderUser:function(e,t){e.order.orderUser=t,L(e.order)},removeOrder:function(e){e.order=null,localStorage.removeItem("order")}},P={namespaced:!0,state:S,getters:C,mutations:M},L=function(e){localStorage.setItem("order",JSON.stringify(e))};r["default"].use(w["a"]);var R=new w["a"].Store({strict:!1,modules:{Order:P}}),_=(n("20c9"),n("6762"),n("2fdb"),n("c5f6"),n("fca0"),n("458f")),I=n("bc3a"),T=n.n(I),x=function(){function e(){Object(a["a"])(this,e),this._user=null}return Object(s["a"])(e,[{key:"isAuthenticated",value:function(){return this.isLoaded()&&null!==this.user&&Number.isFinite(this.user.id)}},{key:"isAdmin",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===N["c"].ADMIN)}},{key:"isEmployee",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===N["c"].EMPLOYEE)}},{key:"isCustomer",value:function(){return null!=this._user&&(this.isLoaded()&&this._user.role===N["c"].CUSTOMER)}},{key:"hasRole",value:function(e){return null!=this._user&&e.includes(this._user.role)}},{key:"isLoaded",value:function(){return null!==this._user}},{key:"login",value:function(e,t){var n=this;return E["a"].auth.login(e,t).then(function(e){localStorage.setItem("token",e.data.token),E["a"].setDefaultHeader("Authorization","Bearer "+e.data.token),n.refresh()})}},{key:"logout",value:function(){this._user=null,localStorage.removeItem("token")}},{key:"refresh",value:function(){var e=this;return T.a.get("http://localhost:5000/api/auth/logged-in").then(function(t){return e._user=_["a"].fromJson(t.data),e._user}).catch(function(t){401===t.response.status&&e.logout()})}},{key:"user",get:function(){return this.isLoaded()?this._user:null}}]),e}(),Y=new x,J=new r["default"]({data:{auth:Y}});x.install=function(e){Object.defineProperty(e.prototype,"$auth",{value:J.auth})};var D=x;r["default"].config.productionTip=!1,r["default"].use(D),new r["default"]({router:j,store:R,render:function(e){return e(k)}}).$mount("#app")},d7e7:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("c665"),o=n("aa9a"),c=function(){function e(t){Object(r["a"])(this,e),this.id=t.id,this.description=t.description,this.cost=t.cost}return Object(o["a"])(e,null,[{key:"fromJson",value:function(t){return new e(t)}}]),Object(o["a"])(e,[{key:"formattedCost",get:function(){return"€".concat(this.cost.toLocaleString("nl-NL"),",-")}}]),e}()}});
//# sourceMappingURL=app.996d8ea7.js.map